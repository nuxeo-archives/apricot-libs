<?xml version="1.0"?>

<component name="org.nuxeo.ecm.platform.cmisWebConfig" version="1.0" bundle="org.nuxeo.ecm.webengine.jaxrs">
  <documentation>
  OpenCmis Bridge Web configuration.
  @author Bogdan Stefanescu (bs@nuxeo.com)
  </documentation>

  <extension target="org.nuxeo.ecm.webengine.jaxrs.servlet.config.ServletRegistryComponent" point="servlets">
    <servlet name="opencmis" path="/nuxeo/atom/cmis" 
        class="org.nuxeo.ecm.core.opencmis.bindings:org.apache.chemistry.opencmis.server.impl.atompub.CmisAtomPubServlet">
      <listeners>
         <listener class="org.nuxeo.ecm.core.opencmis.bindings:org.nuxeo.ecm.core.opencmis.bindings.NuxeoCmisContextListener" />
      </listeners>
      <filters>
        <filter class="org.nuxeo.ecm.webengine.jaxrs.login.AuthenticationFilter" />
        <filter class="org.nuxeo.ecm.webengine.jaxrs.tx.TransactionFilter" />
      </filters>      
      <properties>
        <property name="callContextHandler">org.nuxeo.ecm.core.opencmis.bindings.NuxeoAuthCallContextHandler</property>
      </properties>
    </servlet>  
  </extension>


</component>

