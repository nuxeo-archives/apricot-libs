<?xml version="1.0"?>

<component name="org.nuxeo.ecm.platform.cmisWebConfig" version="1.0" bundle="org.nuxeo.ecm.webengine.jaxrs">
  <documentation>
  OpenCmis Bridge Web configuration.
  @author Bogdan Stefanescu (bs@nuxeo.com)
  </documentation>

  <extension target="org.nuxeo.ecm.webengine.jaxrs.servlet.config.ServletRegistryComponent" point="servlets">
    <servlet name="nuxeo.opencmis.atompub" path="/nuxeo/atom/cmis" 
        class="org.nuxeo.ecm.webengine.jaxrs.servlet.FilteringServlet">
      <param name="servlet">org.nuxeo.ecm.core.opencmis.bindings:org.apache.chemistry.opencmis.server.impl.atompub.CmisAtomPubServlet</param>
      <param name="listeners">
         org.nuxeo.ecm.core.opencmis.bindings:org.nuxeo.ecm.core.opencmis.bindings.NuxeoCmisContextListener
      </param>
      <param name="filters">
         org.nuxeo.ecm.webengine.jaxrs.login.AuthenticationFilter,
         org.nuxeo.ecm.webengine.jaxrs.tx.TransactionFilter,
      </param>
      <param name="callContextHandler">org.nuxeo.ecm.core.opencmis.bindings.NuxeoAuthCallContextHandler</param>      
    </servlet>  
  </extension>


</component>

